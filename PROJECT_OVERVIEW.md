# à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸›à¸£à¹€à¸ˆà¸„à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š & Tech Stack

## à¸ à¸²à¸à¸£à¸§à¸¡à¸£à¸°à¸šà¸š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ (User)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                              â”‚
                    â–¼                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Wiki.js (à¸ˆà¸±à¸”à¸à¸²à¸£à¹€à¸™à¸·à¹‰à¸­à¸«à¸²)   â”‚        â”‚   Frontend (Search UI)     â”‚
â”‚   wiki.semapru.com        â”‚        â”‚   Next.js â€” à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡     â”‚
â”‚   à¸šà¸™ VM                   â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
              â”‚ Sync (Push)                        â”‚ API
              â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Git (GitHub)            â”‚        â”‚   Backend API             â”‚
â”‚   Sunshine050/new-carmen  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   Go Fiber                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  Pull  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                    â”‚
              â”‚ Webhook / Schedule                 â”‚ Query / Embed
              â–¼                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   N8N (Orchestration)     â”‚        â”‚   Ollama (LLM)             â”‚
â”‚   Trigger â†’ Index         â”‚        â”‚   ChromaDB (Vector)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚   Neon (PostgreSQL)       â”‚
              â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ChromaDB (Vector DB)     â”‚
â”‚   à¹€à¸à¹‡à¸š embedding           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## à¸à¸±à¹ˆà¸‡à¸•à¹ˆà¸²à¸‡à¹† à¹ƒà¸™à¸£à¸°à¸šà¸š

| à¸à¸±à¹ˆà¸‡ | à¸šà¸—à¸šà¸²à¸— | à¸ªà¸–à¸²à¸™à¸° |
|------|--------|--------|
| **Wiki.js** | à¸ªà¸£à¹‰à¸²à¸‡/à¹à¸à¹‰à¹„à¸‚/à¸¥à¸š à¹€à¸­à¸à¸ªà¸²à¸£ (markdown), sync à¸‚à¸¶à¹‰à¸™ Git | âœ… à¹ƒà¸Šà¹‰à¸­à¸¢à¸¹à¹ˆ (à¸šà¸™ VM) |
| **Git (GitHub)** | à¹€à¸à¹‡à¸šà¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ˆà¸²à¸ Wiki, à¹€à¸›à¹‡à¸™ source of truth | âœ… new-carmen repo |
| **Backend (Go Fiber)** | REST API, Auth, Document, Search, à¹€à¸Šà¸·à¹ˆà¸­à¸¡ Ollama + ChromaDB + Neon | âœ… à¸¡à¸µà¹à¸¥à¹‰à¸§ |
| **Frontend** | à¸«à¸™à¹‰à¸² Search / Chat UI à¹ƒà¸«à¹‰à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰ | â³ à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡ (à¹à¸œà¸™à¹ƒà¸Šà¹‰ Next.js) |
| **N8N** | Trigger à¹€à¸¡à¸·à¹ˆà¸­ Git à¸­à¸±à¸›à¹€à¸”à¸• â†’ à¸”à¸¶à¸‡à¸ˆà¸²à¸ Git â†’ à¸ªà¸£à¹‰à¸²à¸‡ embedding â†’ à¸ªà¹ˆà¸‡à¹€à¸‚à¹‰à¸² ChromaDB | ğŸ“‹ à¸§à¸²à¸‡à¹à¸œà¸™à¹ƒà¸Šà¹‰ |
| **Neon (PostgreSQL)** | à¹€à¸à¹‡à¸š metadata: users, documents, versions, permissions | âœ… à¹ƒà¸Šà¹‰à¸­à¸¢à¸¹à¹ˆ |
| **ChromaDB** | à¹€à¸à¹‡à¸š vector à¸ªà¸³à¸«à¸£à¸±à¸š semantic search | ğŸ“‹ à¹€à¸•à¸£à¸µà¸¢à¸¡à¹ƒà¸Šà¹‰ (Week 2+) |
| **Ollama** | LLM à¸ªà¸³à¸«à¸£à¸±à¸šà¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸³à¸–à¸²à¸¡, à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸•à¸­à¸š, (à¹à¸¥à¸° embedding à¸–à¹‰à¸²à¹ƒà¸Šà¹‰) | ğŸ“‹ à¹€à¸•à¸£à¸µà¸¢à¸¡à¹ƒà¸Šà¹‰ (Week 2+) |

---

## Tech Stack à¹à¸¢à¸à¸•à¸²à¸¡à¸à¸±à¹ˆà¸‡

### 1. Wiki.js (Content Management)
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| à¹à¸à¸¥à¸•à¸Ÿà¸­à¸£à¹Œà¸¡ | Wiki.js |
| à¹‚à¸®à¸ªà¸•à¹Œ | VM (à¹„à¸¡à¹ˆà¹ƒà¸Šà¹‰ Docker) |
| Storage | Git (GitHub) â€” sync à¸—à¸¸à¸ 5 à¸™à¸²à¸—à¸µ à¸«à¸£à¸·à¸­à¸•à¸²à¸¡à¸—à¸µà¹ˆà¸•à¸±à¹‰à¸‡ |
| URL | https://wiki.semapru.com |

---

### 2. Git / Version Control
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| Host | GitHub |
| Repo | https://github.com/Sunshine050/new-carmen |
| Branch | main |
| à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ | Wiki.js â†’ push; Backend / N8N â†’ pull à¸«à¸£à¸·à¸­ API |

---

### 3. Backend API
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| Language | Go |
| Framework | Fiber v2 |
| à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ | Clean Architecture (api, router, services, repositories, domain, config, database, middleware, utils) |
| ORM | GORM |
| Auth | JWT, bcrypt, Role-based (Superadmin, Admin, Guest) |
| External clients | Ollama, ChromaDB, GitHub (à¹ƒà¸™ pkg/) |

---

### 4. Frontend (à¹à¸œà¸™)
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| Framework | Next.js |
| à¸ªà¸–à¸²à¸™à¸° | à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡ |

---

### 5. Database (Metadata)
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| à¸šà¸£à¸´à¸à¸²à¸£ | Neon (PostgreSQL à¸šà¸™ cloud) |
| à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ | users, roles, user_roles, documents, document_versions, document_permissions |
| à¸à¸²à¸£à¹€à¸Šà¸·à¹ˆà¸­à¸¡à¸•à¹ˆà¸­ | Backend à¹ƒà¸Šà¹‰ GORM + connection string à¸ˆà¸²à¸ .env |

---

### 6. Vector DB (Semantic Search)
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| à¸šà¸£à¸´à¸à¸²à¸£ | ChromaDB |
| à¸šà¸—à¸šà¸²à¸— | à¹€à¸à¹‡à¸š embedding à¸‚à¸­à¸‡à¹€à¸­à¸à¸ªà¸²à¸£ à¸ªà¸³à¸«à¸£à¸±à¸š semantic search |
| à¸à¸²à¸£à¸­à¸±à¸›à¹€à¸”à¸• | N8N (à¸”à¸¶à¸‡à¸ˆà¸²à¸ Git â†’ à¸ªà¸£à¹‰à¸²à¸‡ embedding â†’ à¸ªà¹ˆà¸‡à¹€à¸‚à¹‰à¸² ChromaDB) |
| à¸à¸²à¸£ query | Backend (Go) à¹€à¸£à¸µà¸¢à¸ ChromaDB à¸•à¸­à¸™ search |

---

### 7. AI / LLM
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| à¸šà¸£à¸´à¸à¸²à¸£ | Ollama |
| à¸šà¸—à¸šà¸²à¸— | à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸„à¸³à¸–à¸²à¸¡, à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸•à¸­à¸š (RAG), (embedding à¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸à¸²à¸£) |
| à¸à¸²à¸£à¹€à¸£à¸µà¸¢à¸à¹ƒà¸Šà¹‰ | Backend (Go) à¸œà¹ˆà¸²à¸™ pkg/ollama |

---

### 8. N8N (Orchestration)
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| à¸šà¸—à¸šà¸²à¸— | Trigger à¹€à¸¡à¸·à¹ˆà¸­ Git à¸­à¸±à¸›à¹€à¸”à¸• â†’ à¸”à¸¶à¸‡à¹€à¸™à¸·à¹‰à¸­à¸«à¸² â†’ à¸ªà¸£à¹‰à¸²à¸‡ embedding â†’ à¸­à¸±à¸›à¹€à¸”à¸• ChromaDB |
| Trigger | GitHub Webhook (push) à¸«à¸£à¸·à¸­ Schedule |
| Tech | N8N (low-code workflow) |

---

### 9. à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸à¸±à¸’à¸™à¸² / à¸ˆà¸±à¸”à¸à¸²à¸£
| à¸£à¸²à¸¢à¸à¸²à¸£ | à¹€à¸—à¸„à¹‚à¸™à¹‚à¸¥à¸¢à¸µ |
|--------|-----------|
| IDE | VS Code / Cursor |
| DB Client | Beekeeper Studio (à¹€à¸Šà¸·à¹ˆà¸­à¸¡ Neon) |
| Version Control (local) | Git, à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ workspace = clone à¸‚à¸­à¸‡ new-carmen |

---

## à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹‚à¸Ÿà¸¥à¹€à¸”à¸­à¸£à¹Œ (Repo new-carmen)

```
New-carmen/
â”œâ”€â”€ backend/                 # Backend API (Go Fiber)
â”‚   â”œâ”€â”€ cmd/server/          # Entry point
â”‚   â”œâ”€â”€ internal/            # api, config, database, domain, middleware, repositories, router, services, utils
â”‚   â”œâ”€â”€ pkg/                  # ollama, chromadb, github clients
â”‚   â”œâ”€â”€ migrations/
â”‚   â””â”€â”€ docs/                 # à¹€à¸­à¸à¸ªà¸²à¸£ flow, debug
â”œâ”€â”€ frontend/                 # (à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸ªà¸£à¹‰à¸²à¸‡) Next.js
â”œâ”€â”€ README.md
â””â”€â”€ PROJECT_OVERVIEW.md       # à¹„à¸Ÿà¸¥à¹Œà¸™à¸µà¹‰
```

à¹€à¸™à¸·à¹‰à¸­à¸«à¸²à¸ˆà¸²à¸ Wiki.js à¸—à¸µà¹ˆ sync à¸‚à¸¶à¹‰à¸™ Git à¸ˆà¸°à¸­à¸¢à¸¹à¹ˆà¹ƒà¸™ path à¸•à¸²à¸¡à¸—à¸µà¹ˆ Wiki.js à¸•à¸±à¹‰à¸‡ (à¸¡à¸±à¸à¹€à¸›à¹‡à¸™ data/ à¸«à¸£à¸·à¸­ content/ à¹ƒà¸™ repo)

---

## à¸ªà¸£à¸¸à¸› Tech Stack à¸—à¸±à¹‰à¸‡à¸£à¸°à¸šà¸š

| à¸à¸±à¹ˆà¸‡ | Tech Stack |
|------|------------|
| **Content** | Wiki.js, Markdown |
| **Version Control** | Git, GitHub (new-carmen) |
| **Backend** | Go, Fiber, GORM |
| **Database** | Neon (PostgreSQL) |
| **Vector DB** | ChromaDB |
| **AI/LLM** | Ollama |
| **Orchestration (Indexing)** | N8N |
| **Frontend (à¹à¸œà¸™)** | Next.js |
| **Tools** | Beekeeper, Cursor/VS Code |

---

## Flow à¸ªà¸±à¹‰à¸™à¹†

1. **Wiki.js** â€” à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸ªà¸£à¹‰à¸²à¸‡/à¹à¸à¹‰à¹„à¸‚ à¹€à¸­à¸à¸ªà¸²à¸£ â†’ Sync à¸‚à¸¶à¹‰à¸™ **GitHub (new-carmen)**
2. **N8N** â€” à¸–à¸¹à¸ trigger (Webhook/Schedule) â†’ à¸”à¸¶à¸‡à¸ˆà¸²à¸ Git â†’ à¸ªà¸£à¹‰à¸²à¸‡ embedding â†’ à¸ªà¹ˆà¸‡à¹€à¸‚à¹‰à¸² **ChromaDB**
3. **Frontend** â€” à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰à¸„à¹‰à¸™à¸«à¸² â†’ à¹€à¸£à¸µà¸¢à¸ **Backend API**
4. **Backend** â€” à¸£à¸±à¸šà¸„à¸³à¸„à¹‰à¸™ â†’ à¹ƒà¸Šà¹‰ **ChromaDB** (vector) + **Ollama** (RAG) â†’ à¸ªà¹ˆà¸‡à¸œà¸¥à¸¥à¸±à¸à¸˜à¹Œà¸à¸¥à¸±à¸š
5. **Backend** â€” à¹€à¸à¹‡à¸š metadata à¸œà¸¹à¹‰à¹ƒà¸Šà¹‰/à¹€à¸­à¸à¸ªà¸²à¸£/à¸ªà¸´à¸—à¸˜à¸´à¹Œ à¹ƒà¸™ **Neon (PostgreSQL)**
